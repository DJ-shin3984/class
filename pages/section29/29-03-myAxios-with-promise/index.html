<!DOCTYPE html>
<html lang="ko">
<head>
  <title>myAxios-with-promise</title>
  <script>
    const myAxios = {
      get: (url) => {
        return new Promise((resolve, reject)=>{
          const apiObj = new XMLHttpRequest()
          apiObj.open('get', url)
          apiObj.send()
          apiObj.addEventListener('load',(res)=>{
            resolve(res.target.response)
          })
        })
      },
      // post: (url) => {} // get과 만드는 방법은 동일
    }

    const onClickAxios = async (url) => {
      // 1) .then() 으로 받기
      myAxios.get(url).then((res) => {
          console.log("이것은 .then() ",res)
      })

      // 2) await 로 받기
      const result = await myAxios.get(url)
      console.log("이것은 await ",result)
    }
    
  </script>
</head>
<body>
  <button onclick="onClickAxios('https://koreanjson.com/posts/1')">myAxios excution</button>
</body>
</html>